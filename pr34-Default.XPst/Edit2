# Parse the XML into a DOM tree
set doc [dom parse $thexml]

# Note that we've got a (multi-line) list of the changes to make
# and that I have *NO* idea what you want to set things to!
foreach {name setTo} {
    NUT_WAN_MAC "the quick brown fox"
    NUT_LAN_MAC "the lazy dogs"
} {
    # using a loop in case there are several nodes with that name :-)
    foreach node [$doc selectNodes [format {//ii:variable[@name="%s"]} $name]] {
        $node setAttribute value $setTo
    }
}

# Convert back into XML; you might want to experiment with the -indent option
set thechangedxml [$doc asXML]




exit

set doc [dom parse $xml]
close $f
set root [$doc documentElement]

# Do the update of the in-memory doc
foreach pollerAttr [$root selectNodes $xpath] {
    $pollerAttr setAttribute password "theNewPassword"
}

# Write out (you might or might not want the -doctypeDeclaration option)
set f [open "${filename}_t.xml" "w"]
$doc asXML -channel $f -doctypeDeclaration true
close $f






set size [file size $filename] 
set f [open $filename]
fconfigure $f -encoding ascii
set xml [read $f $size ]
close $f

set t1 [ getXmlEncoding $xml ]

puts $t1

#asn::asnGetString xml myString
#puts "String parsed was '$myString'"
#ascii iso8859-1 cp1251 cp1250 cp1251 koi8-u cp1252 cp850 utf-8 unicode

set data [encoding convertfrom cp1251 $xml]

set f [open "${filename}_t.xml" "w"]
puts $f $data
close $f

