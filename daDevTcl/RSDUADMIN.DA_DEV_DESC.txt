CREATE TABLE RSDUADMIN.DA_DEV_DESC
(
  ID              NUMBER(11),
  ID_PROTO_POINT  NUMBER(11),
  ID_DEV          NUMBER(11),
  ID_PARENT       NUMBER(11),
  NAME            VARCHAR2(255 BYTE),
  CVALIF          NUMBER(11),
  ID_TYPE         NUMBER(11),
  ID_GTOPT        NUMBER(11),
  ATTR_NAME       VARCHAR2(255 BYTE)            DEFAULT null
)
TABLESPACE RSDU_TABL
PCTUSED    0
PCTFREE    5
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          512K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;

COMMENT ON TABLE RSDUADMIN.DA_DEV_DESC IS 'Профиль устройства';

COMMENT ON COLUMN RSDUADMIN.DA_DEV_DESC.ID IS 'Идентефикатор';

COMMENT ON COLUMN RSDUADMIN.DA_DEV_DESC.ID_PROTO_POINT IS 'Ссылка на объект протокола';

COMMENT ON COLUMN RSDUADMIN.DA_DEV_DESC.ID_DEV IS 'Ссылка на устройство';

COMMENT ON COLUMN RSDUADMIN.DA_DEV_DESC.ID_PARENT IS 'Ссылка на родительский объект протокола в профиле';

COMMENT ON COLUMN RSDUADMIN.DA_DEV_DESC.NAME IS 'Наименование объекта';

COMMENT ON COLUMN RSDUADMIN.DA_DEV_DESC.CVALIF IS 'Квалификатор оъекта (номер в терминах протокола)';

COMMENT ON COLUMN RSDUADMIN.DA_DEV_DESC.ID_TYPE IS 'Тип измеряемой величины. ссылка на sys_dtype';

COMMENT ON COLUMN RSDUADMIN.DA_DEV_DESC.ID_GTOPT IS 'Ссылка на опцию глобального типа данных';

COMMENT ON COLUMN RSDUADMIN.DA_DEV_DESC.ATTR_NAME IS 'Символьный идентификатор';



CREATE UNIQUE INDEX RSDUADMIN.DA_DEV_DESC ON RSDUADMIN.DA_DEV_DESC
(ID)
LOGGING
TABLESPACE RSDU_IND
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          256K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


CREATE INDEX RSDUADMIN.DA_DEV_DESC_ID_DEV_I ON RSDUADMIN.DA_DEV_DESC
(ID_DEV)
LOGGING
TABLESPACE RSDU_IND
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          256K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


CREATE INDEX RSDUADMIN.DA_DEV_DESC_ID_GTOPT_I ON RSDUADMIN.DA_DEV_DESC
(ID_GTOPT)
LOGGING
TABLESPACE RSDU_IND
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          256K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


CREATE INDEX RSDUADMIN.DA_DEV_DESC_ID_PARENT_I ON RSDUADMIN.DA_DEV_DESC
(ID_PARENT)
LOGGING
TABLESPACE RSDU_IND
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          256K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


CREATE INDEX RSDUADMIN.DA_DEV_DESC_ID_PROTO_POINT_I ON RSDUADMIN.DA_DEV_DESC
(ID_PROTO_POINT)
LOGGING
TABLESPACE RSDU_IND
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          256K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


CREATE INDEX RSDUADMIN.DA_DEV_DESC_ID_TYPE_I ON RSDUADMIN.DA_DEV_DESC
(ID_TYPE)
LOGGING
TABLESPACE RSDU_IND
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          256K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


CREATE OR REPLACE PUBLIC SYNONYM DA_DEV_DESC FOR RSDUADMIN.DA_DEV_DESC;


ALTER TABLE RSDUADMIN.DA_DEV_DESC ADD (
  CONSTRAINT DA_DEV_DESC
  PRIMARY KEY
  (ID)
  USING INDEX RSDUADMIN.DA_DEV_DESC
  ENABLE VALIDATE);

ALTER TABLE RSDUADMIN.DA_DEV_DESC ADD (
  CONSTRAINT DA_DEV_DESC_ID_DEV_FK 
  FOREIGN KEY (ID_DEV) 
  REFERENCES RSDUADMIN.DA_DEV (ID)
  ENABLE VALIDATE,
  CONSTRAINT DA_DEV_DESC_ID_GTOPT_FK 
  FOREIGN KEY (ID_GTOPT) 
  REFERENCES RSDUADMIN.SYS_GTOPT (ID)
  ENABLE VALIDATE,
  CONSTRAINT DA_DEV_DESC_ID_PARENT_FK 
  FOREIGN KEY (ID_PARENT) 
  REFERENCES RSDUADMIN.DA_DEV_DESC (ID)
  ENABLE VALIDATE,
  CONSTRAINT DA_DEV_DESC_ID_PROTO_POINT_FK 
  FOREIGN KEY (ID_PROTO_POINT) 
  REFERENCES RSDUADMIN.DA_PROTO_DESC (ID)
  ENABLE VALIDATE);

AUDIT ALTER ON RSDUADMIN.DA_DEV_DESC BY ACCESS WHENEVER SUCCESSFUL;
AUDIT AUDIT ON RSDUADMIN.DA_DEV_DESC BY ACCESS WHENEVER SUCCESSFUL;
AUDIT COMMENT ON RSDUADMIN.DA_DEV_DESC BY ACCESS WHENEVER SUCCESSFUL;
AUDIT DELETE ON RSDUADMIN.DA_DEV_DESC BY ACCESS WHENEVER SUCCESSFUL;
AUDIT GRANT ON RSDUADMIN.DA_DEV_DESC BY ACCESS WHENEVER SUCCESSFUL;
AUDIT INDEX ON RSDUADMIN.DA_DEV_DESC BY ACCESS WHENEVER SUCCESSFUL;
AUDIT INSERT ON RSDUADMIN.DA_DEV_DESC BY ACCESS WHENEVER SUCCESSFUL;
AUDIT LOCK ON RSDUADMIN.DA_DEV_DESC BY ACCESS WHENEVER SUCCESSFUL;
AUDIT RENAME ON RSDUADMIN.DA_DEV_DESC BY ACCESS WHENEVER SUCCESSFUL;
AUDIT UPDATE ON RSDUADMIN.DA_DEV_DESC BY ACCESS WHENEVER SUCCESSFUL;

GRANT DELETE, INSERT, UPDATE ON RSDUADMIN.DA_DEV_DESC TO SBOR_STAND_ADJ;

GRANT SELECT ON RSDUADMIN.DA_DEV_DESC TO SBOR_STAND_READ;
